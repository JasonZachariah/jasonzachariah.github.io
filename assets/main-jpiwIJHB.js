(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();const D="http://www.w3.org/2000/svg";let W=class{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};function k(e,t,i,n,s){return{type:"path",ops:L(e,t,i,n,s)}}function q(e,t,i){const n=(e||[]).length;if(n>2){const s=[];for(let r=0;r<n-1;r++)s.push(...L(e[r][0],e[r][1],e[r+1][0],e[r+1][1],i));return t&&s.push(...L(e[n-1][0],e[n-1][1],e[0][0],e[0][1],i)),{type:"path",ops:s}}return n===2?k(e[0][0],e[0][1],e[1][0],e[1][1],i):{type:"path",ops:[]}}function I(e,t,i,n,s){return function(r,o){return q(r,!0,o)}([[e,t],[e+i,t],[e+i,t+n],[e,t+n]],s)}function O(e,t,i,n,s){return function(r,o,a,h){const[p,f]=$(h.increment,r,o,h.rx,h.ry,1,h.increment*C(.1,C(.4,1,a),a),a);let w=A(p,null,a);if(!a.disableMultiStroke){const[d]=$(h.increment,r,o,h.rx,h.ry,1.5,0,a),l=A(d,null,a);w=w.concat(l)}return{estimatedPoints:f,opset:{type:"path",ops:w}}}(e,t,s,function(r,o,a){const h=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(r/2,2)+Math.pow(o/2,2))/2)),p=Math.max(a.curveStepCount,a.curveStepCount/Math.sqrt(200)*h),f=2*Math.PI/p;let w=Math.abs(r/2),d=Math.abs(o/2);const l=1-a.curveFitting;return w+=v(w*l,a),d+=v(d*l,a),{increment:f,rx:w,ry:d}}(i,n,s)).opset}function N(e){return e.randomizer||(e.randomizer=new W(e.seed||0)),e.randomizer.next()}function C(e,t,i,n=1){return i.roughness*n*(N(i)*(t-e)+e)}function v(e,t,i=1){return C(-e,e,t,i)}function L(e,t,i,n,s,r=!1){const o=r?s.disableMultiStrokeFill:s.disableMultiStroke,a=E(e,t,i,n,s,!0,!1);if(o)return a;const h=E(e,t,i,n,s,!0,!0);return a.concat(h)}function E(e,t,i,n,s,r,o){const a=Math.pow(e-i,2)+Math.pow(t-n,2),h=Math.sqrt(a);let p=1;p=h<200?1:h>500?.4:-.0016668*h+1.233334;let f=s.maxRandomnessOffset||0;f*f*100>a&&(f=h/10);const w=f/2,d=.2+.2*N(s);let l=s.bowing*s.maxRandomnessOffset*(n-t)/200,c=s.bowing*s.maxRandomnessOffset*(e-i)/200;l=v(l,s,p),c=v(c,s,p);const u=[],m=()=>v(w,s,p),g=()=>v(f,s,p);return o?u.push({op:"move",data:[e+m(),t+m()]}):u.push({op:"move",data:[e+v(f,s,p),t+v(f,s,p)]}),o?u.push({op:"bcurveTo",data:[l+e+(i-e)*d+m(),c+t+(n-t)*d+m(),l+e+2*(i-e)*d+m(),c+t+2*(n-t)*d+m(),i+m(),n+m()]}):u.push({op:"bcurveTo",data:[l+e+(i-e)*d+g(),c+t+(n-t)*d+g(),l+e+2*(i-e)*d+g(),c+t+2*(n-t)*d+g(),i+g(),n+g()]}),u}function A(e,t,i){const n=e.length,s=[];if(n>3){const r=[],o=1-i.curveTightness;s.push({op:"move",data:[e[1][0],e[1][1]]});for(let a=1;a+2<n;a++){const h=e[a];r[0]=[h[0],h[1]],r[1]=[h[0]+(o*e[a+1][0]-o*e[a-1][0])/6,h[1]+(o*e[a+1][1]-o*e[a-1][1])/6],r[2]=[e[a+1][0]+(o*e[a][0]-o*e[a+2][0])/6,e[a+1][1]+(o*e[a][1]-o*e[a+2][1])/6],r[3]=[e[a+1][0],e[a+1][1]],s.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}}else n===3?(s.push({op:"move",data:[e[1][0],e[1][1]]}),s.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&s.push(...L(e[0][0],e[0][1],e[1][0],e[1][1],i));return s}function $(e,t,i,n,s,r,o,a){const h=[],p=[],f=v(.5,a)-Math.PI/2;p.push([v(r,a)+t+.9*n*Math.cos(f-e),v(r,a)+i+.9*s*Math.sin(f-e)]);for(let w=f;w<2*Math.PI+f-.01;w+=e){const d=[v(r,a)+t+n*Math.cos(w),v(r,a)+i+s*Math.sin(w)];h.push(d),p.push(d)}return p.push([v(r,a)+t+n*Math.cos(f+2*Math.PI+.5*o),v(r,a)+i+s*Math.sin(f+2*Math.PI+.5*o)]),p.push([v(r,a)+t+.98*n*Math.cos(f+o),v(r,a)+i+.98*s*Math.sin(f+o)]),p.push([v(r,a)+t+.9*n*Math.cos(f+.5*o),v(r,a)+i+.9*s*Math.sin(f+.5*o)]),[p,h]}function R(e,t){return{maxRandomnessOffset:2,roughness:e==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,combineNestedSvgPaths:!1,disableMultiStroke:e!=="double",disableMultiStrokeFill:!1,seed:t}}function F(e,t,i,n,s,r){const o=[];let a=i.strokeWidth||2;const h=function(l){const c=l.padding;if(c||c===0){if(typeof c=="number")return[c,c,c,c];if(Array.isArray(c)){const u=c;if(u.length)switch(u.length){case 4:return[...u];case 1:return[u[0],u[0],u[0],u[0]];case 2:return[...u,...u];case 3:return[...u,u[1]];default:return[u[0],u[1],u[2],u[3]]}}}return[5,5,5,5]}(i),p=i.animate===void 0||!!i.animate,f=i.iterations||2,w=i.rtl?1:0,d=R("single",r);switch(i.type){case"underline":{const l=t.y+t.h+h[2];for(let c=w;c<f+w;c++)c%2?o.push(k(t.x+t.w,l,t.x,l,d)):o.push(k(t.x,l,t.x+t.w,l,d));break}case"strike-through":{const l=t.y+t.h/2;for(let c=w;c<f+w;c++)c%2?o.push(k(t.x+t.w,l,t.x,l,d)):o.push(k(t.x,l,t.x+t.w,l,d));break}case"box":{const l=t.x-h[3],c=t.y-h[0],u=t.w+(h[1]+h[3]),m=t.h+(h[0]+h[2]);for(let g=0;g<f;g++)o.push(I(l,c,u,m,d));break}case"bracket":{const l=Array.isArray(i.brackets)?i.brackets:i.brackets?[i.brackets]:["right"],c=t.x-2*h[3],u=t.x+t.w+2*h[1],m=t.y-2*h[0],g=t.y+t.h+2*h[2];for(const y of l){let _;switch(y){case"bottom":_=[[c,t.y+t.h],[c,g],[u,g],[u,t.y+t.h]];break;case"top":_=[[c,t.y],[c,m],[u,m],[u,t.y]];break;case"left":_=[[t.x,m],[c,m],[c,g],[t.x,g]];break;case"right":_=[[t.x+t.w,m],[u,m],[u,g],[t.x+t.w,g]]}_&&o.push(q(_,!1,d))}break}case"crossed-off":{const l=t.x,c=t.y,u=l+t.w,m=c+t.h;for(let g=w;g<f+w;g++)g%2?o.push(k(u,m,l,c,d)):o.push(k(l,c,u,m,d));for(let g=w;g<f+w;g++)g%2?o.push(k(l,m,u,c,d)):o.push(k(u,c,l,m,d));break}case"circle":{const l=R("double",r),c=t.w+(h[1]+h[3]),u=t.h+(h[0]+h[2]),m=t.x-h[3]+c/2,g=t.y-h[0]+u/2,y=Math.floor(f/2),_=f-2*y;for(let b=0;b<y;b++)o.push(O(m,g,c,u,l));for(let b=0;b<_;b++)o.push(O(m,g,c,u,d));break}case"highlight":{const l=R("highlight",r);a=.95*t.h;const c=t.y+t.h/2;for(let u=w;u<f+w;u++)u%2?o.push(k(t.x+t.w,c,t.x,c,l)):o.push(k(t.x,c,t.x+t.w,c,l));break}}if(o.length){const l=function(y){const _=[];for(const b of y){let x="";for(const S of b.ops){const M=S.data;switch(S.op){case"move":x.trim()&&_.push(x.trim()),x=`M${M[0]} ${M[1]} `;break;case"bcurveTo":x+=`C${M[0]} ${M[1]}, ${M[2]} ${M[3]}, ${M[4]} ${M[5]} `;break;case"lineTo":x+=`L${M[0]} ${M[1]} `}}x.trim()&&_.push(x.trim())}return _}(o),c=[],u=[];let m=0;const g=(y,_,b)=>y.setAttribute(_,b);for(const y of l){const _=document.createElementNS(D,"path");if(g(_,"d",y),g(_,"fill","none"),g(_,"stroke",i.color||"currentColor"),g(_,"stroke-width",""+a),p){const b=_.getTotalLength();c.push(b),m+=b}e.appendChild(_),u.push(_)}if(p){let y=0;for(let _=0;_<u.length;_++){const b=u[_],x=c[_],S=m?s*(x/m):0,M=n+y,z=b.style;z.strokeDashoffset=""+x,z.strokeDasharray=""+x,z.animation=`rough-notation-dash ${S}ms ease-out ${M}ms forwards`,y+=S}}}}class H{constructor(t,i){this._state="unattached",this._resizing=!1,this._seed=Math.floor(Math.random()*2**31),this._lastSizes=[],this._animationDelay=0,this._resizeListener=()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))},this._e=t,this._config=JSON.parse(JSON.stringify(i)),this.attach()}get animate(){return this._config.animate}set animate(t){this._config.animate=t}get animationDuration(){return this._config.animationDuration}set animationDuration(t){this._config.animationDuration=t}get iterations(){return this._config.iterations}set iterations(t){this._config.iterations=t}get color(){return this._config.color}set color(t){this._config.color!==t&&(this._config.color=t,this.refresh())}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(t){this._config.strokeWidth!==t&&(this._config.strokeWidth=t,this.refresh())}get padding(){return this._config.padding}set padding(t){this._config.padding!==t&&(this._config.padding=t,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){(function(){if(!window.__rno_kf_s){const s=window.__rno_kf_s=document.createElement("style");s.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(s)}})();const t=this._svg=document.createElementNS(D,"svg");t.setAttribute("class","rough-annotation");const i=t.style;i.position="absolute",i.top="0",i.left="0",i.overflow="visible",i.pointerEvents="none",i.width="100px",i.height="100px";const n=this._config.type==="highlight";if(this._e.insertAdjacentElement(n?"beforebegin":"afterend",t),this._state="not-showing",n){const s=window.getComputedStyle(this._e).position;(!s||s==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(t=>{for(const i of t)i.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const t=this.rects();if(t.length!==this._lastSizes.length)return!0;for(let i=0;i<t.length;i++)if(!this.isSameRect(t[i],this._lastSizes[i]))return!0}return!1}isSameRect(t,i){const n=(s,r)=>Math.round(s)===Math.round(r);return n(t.x,i.x)&&n(t.y,i.y)&&n(t.w,i.w)&&n(t.h,i.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&this.render(this._svg,!1)}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}render(t,i){let n=this._config;i&&(n=JSON.parse(JSON.stringify(this._config)),n.animate=!1);const s=this.rects();let r=0;s.forEach(h=>r+=h.w);const o=n.animationDuration||800;let a=0;for(let h=0;h<s.length;h++){const p=o*(s[h].w/r);F(t,s[h],n,a+this._animationDelay,p,this._seed),a+=p}this._lastSizes=s,this._state="showing"}rects(){const t=[];if(this._svg)if(this._config.multiline){const i=this._e.getClientRects();for(let n=0;n<i.length;n++)t.push(this.svgRect(this._svg,i[n]))}else t.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return t}svgRect(t,i){const n=t.getBoundingClientRect(),s=i;return{x:(s.x||s.left)-(n.x||n.left),y:(s.y||s.top)-(n.y||n.top),w:s.width,h:s.height}}}function T(e,t){return new H(e,t)}const B=document.querySelector(".rough-highlight"),J=T(B,{type:"underline",multiline:!0,color:"var(--accent-color)",strokeWidth:3,padding:5});J.show();const V=document.querySelector(".rough-circle"),G=T(V,{type:"circle"});G.show();function P(){const e=document.querySelectorAll('.sidebar-border a[href^="#"]');if(e.length===0)return;const t=Array.from(e).map(s=>{const r=s.getAttribute("href");if(r&&r.startsWith("#")){const o=document.querySelector(r);return o?{link:s,section:o}:null}return null}).filter(s=>s!==null);if(t.length===0)return;e.forEach(s=>{s.classList.add("sidebar-link")});function i(){let s=null,r=-1;if(t.forEach(({section:o})=>{const a=o.getBoundingClientRect(),h=window.innerHeight,p=Math.max(0,h*.2-a.top),f=Math.max(0,a.bottom-h*.2),d=Math.min(p,f,a.height)/a.height;a.top<=h*.3&&a.bottom>=h*.1&&d>r&&(r=d,s=o)}),!s){let o=1/0;t.forEach(({section:a})=>{const h=a.getBoundingClientRect(),p=Math.abs(h.top-window.innerHeight*.2);p<o&&h.top<window.innerHeight&&(o=p,s=a)})}if(e.forEach(o=>{o.classList.remove("active")}),s){const o=s.getAttribute("id");if(o){const a=Array.from(e).find(h=>h.getAttribute("href")===`#${o}`);a&&a.classList.add("active")}}else if(window.scrollY<100){const o=e[0];o&&o.classList.add("active")}}let n=!1;window.addEventListener("scroll",()=>{n||(window.requestAnimationFrame(()=>{i(),n=!1}),n=!0)}),i()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",P):P();
